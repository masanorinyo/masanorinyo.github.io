"use strict";angular.module("toDoListApp",["ngResource","ngSanitize","ngRoute","ui.sortable"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("toDoListApp").controller("MainCtrl",["$scope",function(a){a.todos=[{topic:"Simple To Do",info:[{title:"to do list 1",note:"test 1"}]}],a.doneTasks=[{topic:"simple to do",info:[]}],a.selectedIndex=0,a.editing=!1,a.removingList=[],a.addToDo=function(b){a.errorFound=!1;var c=a.todo,d=angular.element(document.querySelector(".errorMessage")),e=document.getElementById("list-generator"),f=e.value.length;if(f>0){var g={title:c,note:""};a.todos[b].info.unshift(g),a.todo=""}else{a.errorFound=!0;var h="Please type something";d.text(h)}},a.removeToDo=function(b,c){a.todos[c].info.splice(b,1)},a.openModal=function(b){a.taskIndex=b},a.selectedTopic=function(b){a.selectedIndex=b,a.editing=!1},a.addTopic=function(){var b=angular.element(a.todos).length,c={topic:"New To Do List",info:[]},d={topic:"New To Do List",info:[]};a.selectedIndex=b,a.todos.push(c),a.doneTasks.push(d)},a.addRemovingList=function(b){var c=a.removingList;-1===c.indexOf(b)?c.push(b):c.splice(c.indexOf(b),1)},a.removeTopic=function(){for(var b=angular.element(a.removingList).length,c=0,d=0;b>d;d++)a.todos.splice(a.removingList[d]-c,1),a.doneTasks.splice(a.removingList[d]-c,1),c++;a.removingList=[],a.selectedIndex=0,0===angular.element(a.todos).length&&a.addTopic()}}]),angular.module("toDoListApp").directive("sortable",function(){return{restrict:"EA",replace:!0,templateUrl:"partial/todo.html"}}),angular.module("toDoListApp").controller("ToDoListCtrl",["$scope","$element","$timeout",function(a,b,c){a.checked=!1,a.unchecked=!0,a.completed=function(d,e,f){var g=a.doneTasks[f].info,h={title:e.title,note:e.note};angular.element(b.children("li")[d]).fadeOut(),c(function(){a.todos[f].info.splice(d,1),g.push(h)},400)}}]),angular.module("toDoListApp").controller("DoneListCtrl",["$scope","$element","$timeout",function(a,b,c){a.checked=!0,a.unchecked=!1,a.cancel=function(d,e,f){var g=a.todos[f].info,h={title:e.title,note:e.note};angular.element(b.children("li")[d]).fadeOut(),c(function(){a.doneTasks[f].info.splice(d,1),g.push(h)},400)}}]),angular.module("toDoListApp").directive("donelist",function(){return{restrict:"E",replace:!0,templateUrl:"partial/doneTask.html"}}),angular.module("toDoListApp").directive("editName",function(){return{restrict:"A",scope:{index:"@",formStyle:"@"},transclude:!0,templateUrl:"partial/editName.html"}});